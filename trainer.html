<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
	<meta name="description" content="">
	<meta name="author" content="">
	<link rel="icon" href="images/ic_launcher.png">
	<title>Registro de Entrenadores</title>

	<script src="https://www.gstatic.com/firebasejs/3.4.1/firebase.js"></script>
	<script>
		// Initialize Firebase
		var config = {
		apiKey: "AIzaSyB4JmaNIheFUZwMsjTBXCnFHKQNfpRFfXA",
		authDomain: "formularios-81a40.firebaseapp.com",
		databaseURL: "https://formularios-81a40.firebaseio.com",
		storageBucket: "formularios-81a40.appspot.com",
		messagingSenderId: "793947826055"
		};
		firebase.initializeApp(config);
	</script>
	<link href="dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="dist/css/navbar-fixed-top.css" rel="stylesheet">
    <link href="dist/css/signin.css" rel="stylesheet">
    <link href="dist/css/custom.css" rel="stylesheet">
	<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/timepicker/1.3.5/jquery.timepicker.min.css">

	<!-- Bootstrap core JavaScript
    ================================================== -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <script>window.jQuery || document.write('<script src="assets/js/vendor/jquery.min.js"><\/script>')</script>
    <script src="dist/js/bootstrap.min.js"></script>
    <script src="assets/js/docs.min.js"></script>

    <script src="//cdnjs.cloudflare.com/ajax/libs/timepicker/1.3.5/jquery.timepicker.min.js"></script>
</head>

<body>
	<!-- Fixed navbar -->
    <nav class="navbar navbar-inverse navbar-fixed-top">
		<div class="container">
			<div class="navbar-header">
				<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
		            <span class="sr-only">Toggle navigation</span>
		            <span class="icon-bar"></span>
		            <span class="icon-bar"></span>
		            <span class="icon-bar"></span>
	         	</button>
	         	<a href="index.html">
            		<img class="navbar-brand" alt="Brand" src="images/ic_launcher.png">
          		</a>
			</div>
			<div id="navbar" class="navbar-collapse collapse">
				<ul class="nav navbar-nav">
					<li class="active"><a href="#">Bienvenido
						<script>
							var user = String(localStorage.getItem("nombre"));
							if(user != "null") document.write(","+user);
							else document.write("usuario");
							
						</script>
						</a>
					</li>
					<li>
						<a href="panelPaginasPersonales.html">Panel de Control</a>
					</li>
				</ul>
				<ul class="nav navbar-nav navbar-right">
					<li><a id="cerrarSesion" href="#">Cerrar Sesion<span class="sr-only">(current)</span></a></li>
				</ul>
			</div><!--/.nav-collapse -->
		</div>
	</nav>
	<div class="container">

		<form onsubmit="return false">
          	<div align="center"><h2 class="form-signin-heading"> Registro de entrenador </h2></div>
			<div class="form-group input-group-lg">
				<label for="nombre"> Nombre: </label>
			    <input type="text" class="form-control" placeholder="Ej. Juan Perez" id="nombre">
		  	</div>
		  	<div class="form-group input-group-lg">
		  		<label for="biografia"> Biografía: </label>
			    <textarea class="form-control" rows="3" placeholder="Ej. Experiencia de 5 años en Body Combat." id="biografia"></textarea>
		  	</div>
		  	<div class="form-group input-group-lg">
		  		<label for="imagen"> Imágen de Perfil: </label>
			    <input type="file" class="form-control" id="imagen">
		  	</div>
		  	<div class="form-group input-group-lg form-inline">
				<label for="reunion"> Dias de Reunion: </label>
				<ul class="list-group" id="reunion">
					<li class="form-group input-group-lg">
						<div class="checkbox">
							<label>
								<input type="checkbox" value="lunes" id="lunes"> Lunes &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
							</label>
						</div>
						<input type="text" class="form-control timepicker" id="lunes_inicio">
						<input type="text" class="form-control timepicker" id="lunes_fin">
					</li>
					<li class="form-group input-group-lg">
						<div class="checkbox">
							<label>
								<input type="checkbox" value="martes" id="martes"> Martes &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
							</label>
						</div>
						<input type="text" class="form-control timepicker" id="martes_inicio">
						<input type="text" class="form-control timepicker" id="martes_fin">
					</li>
					<li class="form-group input-group-lg">
						<div class="checkbox">
							<label>
								<input type="checkbox" value="miercoles" id="miercoles"> Miercoles&nbsp;&nbsp;
							</label>
						</div>
						<input type="text" class="form-control timepicker" id="miercoles_inicio">
						<input type="text" class="form-control timepicker" id="miercoles_fin">
					</li>
					<li class="form-group input-group-lg">
						<div class="checkbox">
							<label>
								<input type="checkbox" value="jueves" id="jueves"> Jueves &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
							</label>
						</div>
						<input type="text" class="form-control timepicker" id="jueves_inicio">
						<input type="text" class="form-control timepicker" id="jueves_fin">
					</li>
					<li class="form-group input-group-lg">
						<div class="checkbox">
							<label>
								<input type="checkbox" value="viernes" id="viernes"> Viernes&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
							</label>
						</div>
						<input type="text" class="form-control timepicker" id="viernes_inicio">
						<input type="text" class="form-control timepicker" id="viernes_fin">
					</li>
					<li class="form-group input-group-lg">
						<div class="checkbox">
							<label>
								<input type="checkbox" value="sabado" id="sabado"> Sábado&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
							</label>
						</div>
						<input type="text" class="form-control timepicker" id="sabado_inicio">
						<input type="text" class="form-control timepicker" id="sabado_fin">
					</li>
					<li class="form-group input-group-lg">
						<div class="checkbox">
							<label>
								<input type="checkbox" value="domingo" id="domingo"> Domingo&nbsp;&nbsp;&nbsp;
							</label>
						</div>
						<input type="text" class="form-control timepicker" id="domingo_inicio">
						<input type="text" class="form-control timepicker" id="domingo_fin">
					</li>

				</ul>
		  	</div>
		  	<button class="btn btn-lg btn-success btn-block" onClick="register()">Registrar</button>
		  	<br><br>
	</div>
	<footer class ="bs-docs-footer textcolorWhite" role="contentinfo">
		<p>
			<h3>Siguenos en</h3>
		</p>
		<p>
			<a href="#facebook"><img src="images/social/facebook.png" width="60px" height="60px"></img></a>
			<a href="#youtube"><img src="images/social/youtube.png" width="60px" height="60px"></img></a>
			<a href="#instagram"><img src="images/social/instagram.png" width="60px" height="60px"></img></a>
		</p>
		<p >&copy; 2016 Nivel 10. All rights reserved.
			<a href="#privacy">Privacy</a><font color=white size="3">.</font>
			<a href="#terms">Terms of Service</a>.
		</p>
    </footer>
    <script type="text/javascript">
    	$(document).ready(function(){
			$('.timepicker').timepicker({
			    timeFormat: 'h:mm p',
			    interval: 60,
			    defaultTime: '08',
			    startTime: '01:00am',
			    dynamic: false,
			    dropdown: true,
			    scrollbar: true
			});
		});
		var cerrar = document.getElementById('cerrarSesion');
		cerrar.addEventListener('click', function () {
			localStorage.removeItem("nombre");
			localStorage.removeItem("userID");
			window.location.assign("index.html");
		});
    	var register = function(){
    		var nombre = document.getElementById("nombre");
    		var biografia = document.getElementById("biografia");

    		var lunes = document.getElementById("lunes");
    			var lunes_inicio = document.getElementById("lunes_inicio");
    			var lunes_fin = document.getElementById("lunes_fin");
    		var martes = document.getElementById("martes");
    			var martes_inicio = document.getElementById("martes_inicio");
    			var martes_fin = document.getElementById("martes_fin");
    		var miercoles = document.getElementById("miercoles");
    			var miercoles_inicio = document.getElementById("miercoles_inicio");
    			var miercoles_fin = document.getElementById("miercoles_fin");
    		var jueves = document.getElementById("jueves");
    			var jueves_inicio = document.getElementById("jueves_inicio");
    			var jueves_fin = document.getElementById("jueves_fin");
    		var viernes = document.getElementById("viernes");
    			var viernes_inicio = document.getElementById("viernes_inicio");
    			var viernes_fin = document.getElementById("viernes_fin");
    		var sabado = document.getElementById("sabado");
    			var sabado_inicio = document.getElementById("sabado_inicio");
    			var sabado_fin = document.getElementById("sabado_fin");
    		var domingo = document.getElementById("domingo");
    			var domingo_inicio = document.getElementById("domingo_inicio");
    			var domingo_fin = document.getElementById("domingo_fin");

    		var today = new Date();
			var dd = today.getDate();
			var mm = today.getMonth()+1; //January is 0!
			var yyyy = today.getFullYear();

			if(dd<10) {
			  	dd='0'+dd
			}

			if(mm<10) {
			  	mm='0'+mm
			}
			today = mm+'/'+dd+'/'+yyyy;

			// Points to the root reference
			var storageRef = firebase.storage().ref();

			// Points to 'images'
			var imagesRef = storageRef.child('images');

			// Points to 'images/space.jpg'
			// Note that you can use variables to create child values
			var fileName = 'space.jpg';
			var spaceRef = imagesRef.child(fileName);

			// File path is 'images/space.jpg'
			var path = spaceRef.fullPath

			// File name is 'space.jpg'
			var name = spaceRef.name

			// Points to 'images'
			var imagesRef = spaceRef.parent;


			firebase.database().ref('entrenador/').push({
				nombre: nombre.value,
				biografia: biografia.value,
				lunes: lunes.checked,
				lunes_inicio: lunes_inicio.value,
				lunes_fin: lunes_fin.value,
				martes: martes.checked,
				martes_inicio: martes_inicio.value,
				martes_fin: martes_fin.value,
				miercoles: miercoles.checked,
				miercoles_inicio: miercoles_inicio.value,
				miercoles_fin: miercoles_fin.value,
				jueves: jueves.checked,
				jueves_inicio: jueves_inicio.value,
				jueves_fin: jueves_fin.value,
				viernes: viernes.checked,
				viernes_inicio: viernes_inicio.value,
				viernes_fin: viernes_fin.value,
				sabado: sabado.checked,
				sabado_inicio: sabado_inicio.value,
				sabado_fin: sabado_fin.value,
				domingo: domingo.checked,
				domingo_inicio: domingo_inicio.value,
				domingo_fin: domingo_fin.value,
				fecha_registro: today
			});

			alert("se logro?");
    		//alert(nombre.value+" -- "+biografia.value+" -- "+lunes.checked);
    		//alert(lunes_inicio.value+"--"+lunes_fin.value);
    	}
    </script>
</body>
</html>
