<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
	<meta name="description" content="">
	<meta name="author" content="">
	<link rel="icon" href="../../favicon.ico">
	<title>Registro de Entrenadores</title>

	<script src="https://www.gstatic.com/firebasejs/3.4.1/firebase.js"></script>
	<script>
		// Initialize Firebase
		var config = {
		apiKey: "AIzaSyB4JmaNIheFUZwMsjTBXCnFHKQNfpRFfXA",
		authDomain: "formularios-81a40.firebaseapp.com",
		databaseURL: "https://formularios-81a40.firebaseio.com",
		storageBucket: "formularios-81a40.appspot.com",
		messagingSenderId: "793947826055"
		};
		firebase.initializeApp(config);
	</script>
	<!-- Bootstrap core CSS -->
	<link href="dist/css/bootstrap.min.css" rel="stylesheet">
	<!-- Custom styles for this template -->
	<link href="dist/css/register.css" rel="stylesheet">
	<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/timepicker/1.3.5/jquery.timepicker.min.css">
</head>

<body>
	<div class="container">

		
			<div class="panel panel-default">
				<div class="panel-heading">
					<h2 class="form-register-heading">
						<center>
							Registro de entrenador
						</center>
					</h2>
				</div>
				<div class="panel-body">
					<div class="form-group">
						<label for="nombre"> Nombre: </label>
					    <input type="text" class="form-control" placeholder="Ej. Juan Perez" id="nombre">
				  	</div>
				  	<div class="form-group">
				  		<label for="biografia"> Biografía: </label>
					    <textarea class="form-control" rows="3" placeholder="Ej. Experiencia de 5 años en Body Combat." id="biografia"></textarea>
				  	</div>
				  	<div class="form-group">
				  		<label for="imagen"> Imágen de Perfil: </label>
					    <input type="file" class="form-control" id="imagen">
				  	</div>
				  	<div class="form-group form-inline">
						<label for="reunion"> Dias de Reunion: </label>
						<ul class="list-group" id="reunion">
							<li class="list-group-item">
								<div class="checkbox">
									<label>
										<input type="checkbox" value="lunes" id="lunes"> Lunes 
									</label>
								</div>
								<input type="text" class="form-control timepicker" id="lunes_inicio"> 
								<input type="text" class="form-control timepicker" id="lunes_fin"> 
							</li>
							<div id="reunion">
							<li class="list-group-item">
								<div class="checkbox">
									<label>
										<input type="checkbox" value="martes" id="martes"> Martes 
									</label>
								</div>
								<input type="text" class="form-control timepicker" id="martes_inicio"> 
								<input type="text" class="form-control timepicker" id="martes_fin"> 
							</li>
							<div id="reunion">
							<li class="list-group-item">
								<div class="checkbox">
									<label>
										<input type="checkbox" value="miercoles" id="miercoles"> Miercoles 
									</label>
								</div>
								<input type="text" class="form-control timepicker" id="miercoles_inicio"> 
								<input type="text" class="form-control timepicker" id="miercoles_fin"> 
							</li>
							<div id="reunion">
							<li class="list-group-item">
								<div class="checkbox">
									<label>
										<input type="checkbox" value="jueves" id="jueves"> Jueves 
									</label>
								</div>
								<input type="text" class="form-control timepicker" id="jueves_inicio"> 
								<input type="text" class="form-control timepicker" id="jueves_fin"> 
							</li>
							<div id="reunion">
							<li class="list-group-item">
								<div class="checkbox">
									<label>
										<input type="checkbox" value="viernes" id="viernes"> Viernes 
									</label>
								</div>
								<input type="text" class="form-control timepicker" id="viernes_inicio"> 
								<input type="text" class="form-control timepicker" id="viernes_fin"> 
							</li>
							<div id="reunion">
							<li class="list-group-item">
								<div class="checkbox">
									<label>
										<input type="checkbox" value="sabado" id="sabado"> Sábado 
									</label>
								</div>
								<input type="text" class="form-control timepicker" id="sabado_inicio"> 
								<input type="text" class="form-control timepicker" id="sabado_fin"> 
							</li>
							<div id="reunion">
							<li class="list-group-item">
								<div class="checkbox">
									<label>
										<input type="checkbox" value="domingo" id="domingo"> Domingo 
									</label>
								</div>
								<input type="text" class="form-control timepicker" id="domingo_inicio"> 
								<input type="text" class="form-control timepicker" id="domingo_fin"> 
							</li>
							
						</ul>
				  	</div>
				  	<button class="btn btn-block btn-success" onClick="register()">Registrar</button>
				</div>
			</div>
		

	</div>
	<!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="dist/js/bootstrap.min.js"></script>
    <!-- Custom script -->

	<script src="//cdnjs.cloudflare.com/ajax/libs/timepicker/1.3.5/jquery.timepicker.min.js"></script>

    <script type="text/javascript">
    	$(document).ready(function(){
			$('.timepicker').timepicker({
			    timeFormat: 'h:mm p',
			    interval: 60,
			    defaultTime: '08',
			    startTime: '01:00am',
			    dynamic: false,
			    dropdown: true,
			    scrollbar: true
			});
		});
    	var register = function(){
    		var nombre = document.getElementById("nombre");
    		var biografia = document.getElementById("biografia");

    		var lunes = document.getElementById("lunes");
    			var lunes_inicio = document.getElementById("lunes_inicio");
    			var lunes_fin = document.getElementById("lunes_fin");
    		var martes = document.getElementById("martes");
    			var martes_inicio = document.getElementById("martes_inicio");
    			var martes_fin = document.getElementById("martes_fin");
    		var miercoles = document.getElementById("miercoles");
    			var miercoles_inicio = document.getElementById("miercoles_inicio");
    			var miercoles_fin = document.getElementById("miercoles_fin");
    		var jueves = document.getElementById("jueves");
    			var jueves_inicio = document.getElementById("jueves_inicio");
    			var jueves_fin = document.getElementById("jueves_fin");
    		var viernes = document.getElementById("viernes");
    			var viernes_inicio = document.getElementById("viernes_inicio");
    			var viernes_fin = document.getElementById("viernes_fin");
    		var sabado = document.getElementById("sabado");
    			var sabado_inicio = document.getElementById("sabado_inicio");
    			var sabado_fin = document.getElementById("sabado_fin");
    		var domingo = document.getElementById("domingo");
    			var domingo_inicio = document.getElementById("domingo_inicio");
    			var domingo_fin = document.getElementById("domingo_fin");

    		var today = new Date();
			var dd = today.getDate();
			var mm = today.getMonth()+1; //January is 0!
			var yyyy = today.getFullYear();

			if(dd<10) {
			  	dd='0'+dd
			} 

			if(mm<10) {
			  	mm='0'+mm
			} 
			today = mm+'/'+dd+'/'+yyyy;
			/*
			console.log(nombre.value);
			console.log(biografia.value);
			console.log(lunes.checked);
			console.log(lunes_inicio.value);
			console.log(lunes_fin.value);
			console.log(martes.checked);
			console.log(martes_inicio.value);
			console.log(martes_fin.value);
			console.log(miercoles.checked);
			console.log(miercoles_inicio.value);
			console.log(miercoles_fin.value);
			console.log(jueves.checked);
			console.log(jueves_inicio.value);
			console.log(jueves_fin.value);
			console.log(viernes.checked);
			console.log(viernes_inicio.value);
			console.log(viernes_fin.value);
			console.log(sabado.checked);
			console.log(sabado_inicio.value);
			console.log(sabado_fin.value);
			console.log(domingo.checked);
			console.log(domingo_inicio.value);
			console.log(domingo_fin.value);
			console.log(today);
			*/

			// Points to the root reference
			var storageRef = firebase.storage().ref();

			// Points to 'images'
			var imagesRef = storageRef.child('images');

			// Points to 'images/space.jpg'
			// Note that you can use variables to create child values
			var fileName = 'space.jpg';
			var spaceRef = imagesRef.child(fileName);

			// File path is 'images/space.jpg'
			var path = spaceRef.fullPath

			// File name is 'space.jpg'
			var name = spaceRef.name

			// Points to 'images'
			var imagesRef = spaceRef.parent;

			
			firebase.database().ref('entrenador/').push({
				nombre: nombre.value,
				biografia: biografia.value,
				lunes: lunes.checked,
				lunes_inicio: lunes_inicio.value, 
				lunes_fin: lunes_fin.value, 
				martes: martes.checked, 
				martes_inicio: martes_inicio.value, 
				martes_fin: martes_fin.value, 
				miercoles: miercoles.checked, 
				miercoles_inicio: miercoles_inicio.value, 
				miercoles_fin: miercoles_fin.value, 
				jueves: jueves.checked, 
				jueves_inicio: jueves_inicio.value, 
				jueves_fin: jueves_fin.value, 
				viernes: viernes.checked, 
				viernes_inicio: viernes_inicio.value, 
				viernes_fin: viernes_fin.value, 
				sabado: sabado.checked, 
				sabado_inicio: sabado_inicio.value, 
				sabado_fin: sabado_fin.value, 
				domingo: domingo.checked, 
				domingo_inicio: domingo_inicio.value, 
				domingo_fin: domingo_fin.value, 
				fecha_registro: today 
			});

			alert("se logro?");
    		//alert(nombre.value+" -- "+biografia.value+" -- "+lunes.checked);
    		//alert(lunes_inicio.value+"--"+lunes_fin.value);
    	}
    </script>
</body>
</html>
